using System;
using System.IO;
using System.Text;

class TextFile
{
    public static void Main(string[] args)
    {
        // Metin dosyamýza birþeyler yazan fonksiyon..
        DosyayaYaz();

        // Metin dosyamýzý okuyan ve ekrana yazan fonksiyon
        DosyadanOku("f:\\yeni\\Deneme.txt");

        // Metin dosyamýzýn sonuna birþeyler ekleyen fonksiyon
        DosyayaEkle("f:\\yeni\\Deneme.txt");

        Console.ReadLine();
    }

    static void DosyayaYaz()
    {
        //StreamWriter classýndan dosya isimli bir nesne oluþturalým
        StreamWriter dosya = new StreamWriter("f:\\yeni\\Deneme.txt");

        //Dosyamýza birinci satýrý yazalým
        dosya.WriteLine("Metin dosyamýzýn ilk satýrý");

        //Buda dosyamýza yazdýðýmýz ikinci satýr
        dosya.WriteLine("Ýkinci satýr...");

        //Dosyamýzýn kapatýlým..
        dosya.Close();

        //Yazma iþlemini baþarý ile tamamladýðýmýzý kullanýcýya bildirelim..
        Console.WriteLine("Dosya yazýmý Baþarý ile tamamlandý...");

    }

    static void DosyadanOku(string dosyaIsmi)
    {
        // Text dosyasýndan okuyan StreamReader sýnýfýna ait bir 
        // dosyaOku nesnesini oluþturuyoruz
        StreamReader dosyaOku;

        // dosyadan okuyacaðýmýz yazýyý string olarak depolamak için
        // yazý nesnemizi oluþturuyoruz.
        string yazi;

        //Dosyamýzý okumak için açýyoruz..
        dosyaOku = File.OpenText(dosyaIsmi);

        //Dosyamýzý okumak için açýyoruz ve ilk satýrýný okuyoruz..
        yazi = dosyaOku.ReadLine();

        /* okuduðumuz satýrý ekrana bastýrýp bir sonraki satýra geçiyoruz
       * Eðer sonraki satýrda da yazý varsa onu da okuyup ekrana bastýrýyoruz. 
       * Bu iþlemleri dosyanýn sonuna kadar devam ettiriyoruz.. */

        while (yazi != null)
        {
            Console.WriteLine(yazi);
            yazi = dosyaOku.ReadLine();
        }

        // dosyamýzý kapatýyoruz..
        dosyaOku.Close();
    }

    static void DosyayaEkle(string dosyaIsmi)
    {
        //StreamWriter classýndan dosya isimli bir nesne oluþturalým
        StreamWriter dosya;

        // dosyamýzýn sonuna birþeyler eklememek için açýyoruz..
        dosya = File.AppendText(dosyaIsmi);

        // dosyanýn sonuna birþey ekliyoruz..
        dosya.WriteLine("Bu da en son Append ile eklediðimiz satýr...");

        // Dosyamýzý kapatýyoruz..
        dosya.Close();

        Console.WriteLine("Dosyanýn sonuna baþarý ile ekledik...");
    }

}